*THIS PAGE IS UNDER CONSTRUCTION.*

This documentation was written for the current development version. Some behaviours could be absent from the last stable release. See the [ChangeLog changelog] for details.

== Arguments ==

To run proxyshark, simply run the Python script _proxyshark.py_. You can use the following command-line arguments:

 ==== `-h | --help` ====

 Print a help message describing the available command-line arguments.

 ==== `-q | --queue-num <queue-num>` ====

 Select a netfilter queue. Default is _0_.

 ==== `-t | --tshark-binary <tshark-binary>` ====

 Set the path of the tshark binary. Default is _bin/arch/tshark_ where _arch_ is the current architecture (_x86_64_, _armv7l_, etc). You can get your current architecture by running _uname -m_.

 ==== `-w | --web-ui` ====

 Enable the web-based interface. Default is command-line interface.

 ==== `-a | --bind-address <bind-address>` ====

 Set the bind address of the web server. Default is _127.0.0.1_.

 ==== `-p | --port <port>` ====

 Set the listening port of the web server. Default is _80_.

 ==== Examples ====

 To run proxyshark in command-line mode:

 {{{
 python proxyshark.py
 }}}

 To run proxyshark on queue 123 in web-based mode and port 8080:

 {{{
 python proxyshark.py -q 123 -w -p 8080
 }}}

== Command-line interface ==

The command-line interface allows the user to setup filters and to interactively manipulate the captured packets.

Several commands are available:

 ==== `h | help [command]` ====

 Print a help message describing the available commands. You can specify an optional command name to get information about a specific command.

 ==== `i | info [type]` ====

 Print information about the current program state. You can pass one of the following arguments to get information about a specific element:
  * _c_ or _capture_ for BPF filter and netfilter rules
  * _f_ or _filter_ for tshark filters
  * _b_ or _breakpoints_ for breakpoints

 All information will be printed if no argument is given.

 ==== `c | capture <bpf-filter>` ====

 Start a new capture. The argument will be parsed as a BPF filter and converted into a set of netfilter rules, redirecting the matching packets to the selected netfilter queue.

 ==== `p | pause [bpf-filter]`====

 Pause the current capture on the next captured packet.

 If no capture is currently running, start a new one using the BPF filter past in argument and break on the first captured packet.

 ==== `s | stop` ====

 Stop the current running capture.

 ==== `f | filter [tshark-filter]` ====

 Todo

 ==== `b | breakpoint [tshark-filter]` ====

 Todo

 ==== `d | delete <type> <id>` ====

 Todo

 ==== `pkt | packet` ====

 Todo

 ==== `proto | protocol[s]` ====

 Todo

 ==== `field[s]` ====

 Todo

 ==== `accept` ====

 Todo

 ==== `drop` ====

 Todo

== Web-based interface ==

Todo

 ==== Main menu ====

 Todo

 ==== List view ====

 Todo

 ==== Packet view ====

 Todo